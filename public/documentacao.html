<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-i18n="site.docsTitle">Documentação da API - Clerky</title>
    <link rel="icon" href="/img/favicon.png" type="image/png" />
    <meta name="description" content="Documentação da API Clerky: webhooks, envio de mensagens, CRM e gerenciamento de grupos." />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/assets/js/tailwind-config.js"></script>
    <link rel="stylesheet" href="/assets/css/style.css" />
  </head>
  <body class="bg-slate-950 text-white antialiased" data-page="docs">
    <div class="pointer-events-none fixed inset-0 -z-10 bg-gradient-to-b from-slate-950 via-slate-950 to-slate-950" aria-hidden="true"></div>

    <div class="min-h-screen flex flex-col">
      <!-- Header -->
      <header class="sticky top-0 z-30 border-b border-white/5 bg-slate-950/80 backdrop-blur">
        <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3 sm:px-6 lg:px-8">
          <a href="/" class="flex items-center gap-2">
            <img src="/img/Clerky-logo.png" alt="Clerky" class="logo-dark h-8 w-auto" />
            <img src="/img/Clerky-logo-claro.png" alt="Clerky" class="logo-light h-8 w-auto" />
          </a>
          <div class="flex items-center gap-3">
            <a href="https://app.clerky.com.br" class="hidden text-sm font-medium text-white/80 hover:text-white sm:inline" data-i18n="nav.enter">Entrar</a>
            <a href="https://app.clerky.com.br/signup" class="hidden rounded-full bg-white px-4 py-1.5 text-sm font-semibold text-slate-950 shadow-sm hover:bg-slate-100 sm:inline" data-i18n="nav.startNow">Começar agora</a>
            <button type="button" class="hidden rounded-full border border-white/15 px-3 py-1 text-xs font-medium text-white/80 hover:border-white/40 hover:text-white sm:inline-flex items-center gap-1" data-theme-toggle aria-label="Alternar tema claro/escuro"><span class="theme-toggle-label">Tema claro</span></button>
            <button type="button" class="inline-flex h-9 w-9 items-center justify-center rounded-full border border-white/10 text-white hover:border-white/40 md:hidden" aria-label="Abrir menu" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-5 w-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5" /></svg>
            </button>
          </div>
        </div>
        <div id="mobile-menu" class="hidden border-t border-white/5 md:hidden">
          <div class="mx-auto flex max-w-6xl flex-col gap-2 px-4 py-3">
            <div class="mt-2 flex flex-wrap gap-2">
              <a href="https://app.clerky.com.br" class="flex-1 rounded-full border border-white/15 px-4 py-1.5 text-center text-sm font-medium text-white/80" data-i18n="nav.enter">Entrar</a>
              <a href="https://app.clerky.com.br/signup" class="flex-1 rounded-full bg-white px-4 py-1.5 text-center text-sm font-semibold text-slate-950" data-i18n="nav.startNow">Começar agora</a>
            </div>
          </div>
        </div>
      </header>

      <main class="flex-1 py-8 sm:py-10">
        <article class="mx-auto max-w-4xl px-4 text-sm leading-relaxed text-white/80 sm:px-6 lg:px-8">
          <header class="mb-8">
            <h1 class="text-2xl font-semibold tracking-tight text-white sm:text-3xl" data-i18n="docs.title">Documentação da API</h1>
            <p class="mt-2 text-xs text-white/60" data-i18n="docs.description">Webhooks, envio de mensagens, CRM e gerenciamento de grupos.</p>
          </header>

          <!-- Autenticação -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.authTitle">Autenticação</h2>
            <p class="mt-2" data-i18n="docs.authIntro">Todas as requisições devem incluir o token de autenticação no header <code class="rounded bg-white/10 px-1.5 py-0.5 text-primary-200">Authorization</code>.</p>
            <pre class="mt-3 overflow-x-auto rounded-xl border border-white/10 bg-slate-900/80 p-4 text-xs text-white/90"><code>Authorization: Bearer SEU_TOKEN_AQUI</code></pre>
            <p class="mt-3 text-white/70" data-i18n="docs.authTokenNote">O token é único para cada instância e pode ser encontrado no card da instância na página de Gerenciador de Conexões.</p>
          </section>

          <!-- URL Base -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.baseUrlTitle">URL Base</h2>
            <pre class="mt-3 overflow-x-auto rounded-xl border border-white/10 bg-slate-900/80 p-4 text-xs text-primary-200"><code>https://back.clerky.com.br/api/v1/webhook</code></pre>
          </section>

          <!-- Envio de Mensagens -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.sendMessagesTitle">Envio de Mensagens</h2>

            <div class="mt-6 space-y-6">
              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.sendTextTitle">Enviar Mensagem de Texto — POST /send-text</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.sendTextDesc">Envia uma mensagem de texto para um contato.</p>
                <p class="mt-2 text-xs font-medium text-white/50" data-i18n="docs.params">Parâmetros:</p>
                <ul class="mt-1 list-inside list-disc text-white/70">
                  <li><code>phone</code> (string, obrigatório) — Número do telefone (ex: "5511999999999")</li>
                  <li><code>text</code> (string, obrigatório) — Texto da mensagem</li>
                </ul>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/send-text \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "text": "Olá! Esta é uma mensagem de teste."}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.sendImageTitle">Enviar Imagem — POST /send-image</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.sendImageDesc">Envia uma imagem com legenda opcional.</p>
                <ul class="mt-2 list-inside list-disc text-white/70">
                  <li><code>phone</code> (string, obrigatório)</li>
                  <li><code>image</code> (string, obrigatório) — URL pública da imagem</li>
                  <li><code>caption</code> (string, opcional)</li>
                </ul>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/send-image \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "image": "https://exemplo.com/imagem.jpg", "caption": "Legenda (opcional)"}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.sendVideoTitle">Enviar Vídeo — POST /send-video</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.sendVideoDesc">Envia um vídeo com legenda opcional.</p>
                <ul class="mt-2 list-inside list-disc text-white/70">
                  <li><code>phone</code>, <code>video</code> (obrigatórios), <code>caption</code> (opcional)</li>
                </ul>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/send-video \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "video": "https://exemplo.com/video.mp4", "caption": "Legenda (opcional)"}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.sendFileTitle">Enviar Arquivo — POST /send-file</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.sendFileDesc">Envia um arquivo (PDF, DOC, etc.).</p>
                <ul class="mt-2 list-inside list-disc text-white/70">
                  <li><code>phone</code>, <code>file</code>, <code>filename</code> (obrigatórios), <code>mimetype</code> (opcional)</li>
                </ul>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/send-file \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "file": "https://exemplo.com/arquivo.pdf", "filename": "documento.pdf", "mimetype": "application/pdf"}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.sendAudioTitle">Enviar Áudio — POST /send-audio</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.sendAudioDesc">Envia um áudio para um contato.</p>
                <ul class="mt-2 list-inside list-disc text-white/70">
                  <li><code>phone</code>, <code>audio</code> (obrigatórios) — URL pública do áudio</li>
                </ul>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/send-audio \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "audio": "https://exemplo.com/audio.mp3"}'</code></pre>
              </div>
            </div>
          </section>

          <!-- Gerenciamento de CRM -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.crmTitle">Gerenciamento de CRM</h2>

            <div class="mt-6 space-y-6">
              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.moveContactTitle">Mover Contato entre Colunas — POST /move-contact</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.moveContactDesc">Move um contato de uma coluna para outra no Kanban.</p>
                <ul class="mt-2 list-inside list-disc text-white/70">
                  <li><code>phone</code> (string, obrigatório)</li>
                  <li><code>columnId</code> (string, obrigatório) — ID da coluna (short_id 1-5 ou UUID)</li>
                </ul>
                <p class="mt-2 text-xs text-primary-200" data-i18n="docs.useShortId">Use o short_id (1, 2, 3, 4, 5) para facilitar. Veja as colunas em GET /columns</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/move-contact \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "columnId": "4"}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.listContactsTitle">Listar Contatos — GET /contacts</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.listContactsDesc">Retorna todos os contatos da instância.</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X GET https://back.clerky.com.br/api/v1/webhook/contacts \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json"</code></pre>
                <p class="mt-2 text-xs text-white/50" data-i18n="docs.listContactsResponse">Resposta: status, count, contacts (id, phone, name, profilePicture, columnId, unreadCount, lastMessage, lastMessageAt)</p>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.listColumnsTitle">Listar Colunas do Kanban — GET /columns</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.listColumnsDesc">Retorna todas as colunas com id, shortId (1-5), name, order, color.</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X GET https://back.clerky.com.br/api/v1/webhook/columns \
  -H "Authorization: Bearer SEU_TOKEN_AQUI"</code></pre>
                <p class="mt-2 text-xs text-primary-200">Use o shortId (1-5) no parâmetro columnId para facilitar.</p>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.listLabelsTitle">Listar Labels — GET /labels</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.listLabelsDesc">Retorna todas as labels (etiquetas) disponíveis.</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X GET https://back.clerky.com.br/api/v1/webhook/labels \
  -H "Authorization: Bearer SEU_TOKEN_AQUI"</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.addLabelTitle">Adicionar Label — POST /add-label</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.addLabelDesc">Parâmetros: <code>phone</code>, <code>labelId</code> (short_id ou UUID).</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/add-label \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "labelId": "1"}'</code></pre>
              </div>

              <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-4">
                <h3 class="font-semibold text-white" data-i18n="docs.removeLabelTitle">Remover Label — POST /remove-label</h3>
                <p class="mt-1 text-white/70" data-i18n="docs.removeLabelDesc">Parâmetros: <code>phone</code>, <code>labelId</code>.</p>
                <pre class="mt-3 overflow-x-auto rounded-lg border border-white/5 bg-slate-950/80 p-3 text-[11px] text-white/90"><code>curl -X POST https://back.clerky.com.br/api/v1/webhook/remove-label \
  -H "Authorization: Bearer SEU_TOKEN_AQUI" \
  -H "Content-Type: application/json" \
  -d '{"phone": "5511999999999", "labelId": "1"}'</code></pre>
              </div>
            </div>
          </section>

          <!-- Respostas da API -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.responsesTitle">Respostas da API</h2>
            <div class="mt-4 grid gap-4 sm:grid-cols-2">
              <div class="rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4">
                <p class="text-xs font-semibold text-emerald-200" data-i18n="docs.success">Sucesso</p>
                <pre class="mt-2 overflow-x-auto text-[11px] text-white/80"><code>{"status": "success", "message": "...", "data": {...}}</code></pre>
              </div>
              <div class="rounded-2xl border border-red-500/30 bg-red-500/5 p-4">
                <p class="text-xs font-semibold text-red-200" data-i18n="docs.error">Erro</p>
                <pre class="mt-2 overflow-x-auto text-[11px] text-white/80"><code>{"status": "error", "message": "...", "statusCode": 400}</code></pre>
              </div>
            </div>
            <p class="mt-4 text-xs text-white/60" data-i18n="docs.codesNote">Códigos HTTP: 200 (sucesso), 400 (validação), 401 (token inválido), 404 (não encontrado), 500 (erro interno).</p>
          </section>

          <!-- Gerenciamento de Grupos -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.groupsTitle">Gerenciamento de Grupos</h2>
            <p class="mt-2 text-white/70" data-i18n="docs.groupsIntro">Gerencie grupos do WhatsApp: listar, criar, atualizar nome/descrição/foto, configurações, código de convite, mencionar todos, sair do grupo.</p>
            <ul class="mt-3 list-inside list-disc space-y-1 text-white/70">
              <li><strong>GET /api/groups</strong> — Listar grupos (query: instanceId)</li>
              <li><strong>POST /api/groups/create</strong> — Criar grupo (instanceId, subject, description, participants)</li>
              <li><strong>POST /api/groups/validate-participants</strong> — Validar participantes</li>
              <li><strong>POST /api/groups/update-subject</strong> — Atualizar nome do grupo</li>
              <li><strong>POST /api/groups/update-description</strong> — Atualizar descrição</li>
              <li><strong>POST /api/groups/update-picture</strong> — Atualizar foto (multipart/form-data)</li>
              <li><strong>POST /api/groups/update-settings</strong> — Configurações (announcement, locked, etc.)</li>
              <li><strong>GET /api/groups/invite-code</strong> — Obter código de convite</li>
              <li><strong>POST /api/groups/mention-everyone</strong> — Mencionar todos</li>
              <li><strong>POST /api/groups/leave</strong> — Sair do grupo</li>
            </ul>
            <p class="mt-3 text-xs text-white/50">Base URL para grupos: <code>https://back.clerky.com.br</code>. Sempre use o header <code>Authorization: Bearer SEU_TOKEN_AQUI</code>.</p>
          </section>

          <!-- Exemplo JavaScript -->
          <section class="mb-10">
            <h2 class="text-lg font-semibold text-white" data-i18n="docs.exampleTitle">Exemplo em JavaScript</h2>
            <pre class="mt-3 overflow-x-auto rounded-xl border border-white/10 bg-slate-900/80 p-4 text-[11px] leading-relaxed text-white/90"><code>const API_BASE_URL = 'https://back.clerky.com.br/api/v1/webhook';
const TOKEN = 'SEU_TOKEN_AQUI';

async function enviarTexto(phone, text) {
  const response = await fetch(`${API_BASE_URL}/send-text`, {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${TOKEN}`, 'Content-Type': 'application/json' },
    body: JSON.stringify({ phone, text })
  });
  return await response.json();
}

async function moverParaFinalizados(phone) {
  const response = await fetch(`${API_BASE_URL}/move-contact`, {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${TOKEN}`, 'Content-Type': 'application/json' },
    body: JSON.stringify({ phone, columnId: '4' })
  });
  return await response.json();
}

enviarTexto('5511999999999', 'Olá!').then(console.log);</code></pre>
          </section>

          <!-- Informações importantes -->
          <section class="rounded-2xl border border-amber-500/30 bg-amber-500/5 p-4">
            <h2 class="text-base font-semibold text-amber-200" data-i18n="docs.importantTitle">Informações importantes</h2>
            <ul class="mt-2 space-y-1 text-xs text-white/80">
              <li data-i18n="docs.importantPhone"><strong>Formato do telefone:</strong> Apenas números, com código do país (ex: 5511999999999).</li>
              <li data-i18n="docs.importantUrls"><strong>URLs de mídia:</strong> Devem ser públicas e acessíveis.</li>
              <li data-i18n="docs.importantShortIdCols"><strong>Short ID colunas:</strong> Use 1, 2, 3, 4, 5 em vez de UUIDs.</li>
              <li data-i18n="docs.importantShortIdLabels"><strong>Short ID labels:</strong> Idem.</li>
              <li data-i18n="docs.importantToken"><strong>Token:</strong> Único por instância, permanente até a instância ser deletada.</li>
              <li data-i18n="docs.importantRealtime"><strong>Atualizações:</strong> Mudanças via API refletem no frontend via WebSocket.</li>
            </ul>
          </section>
        </article>
      </main>

      <!-- Footer -->
      <footer class="border-t border-white/5 bg-slate-950/90 py-8">
        <div class="mx-auto flex max-w-6xl flex-col gap-4 px-4 text-xs text-white/60 sm:flex-row sm:items-center sm:justify-between sm:px-6 lg:px-8">
          <div class="space-y-1">
            <div class="flex items-center gap-2">
              <img src="/img/Clerky-logo.png" alt="Clerky" class="logo-dark h-7 w-auto" />
              <img src="/img/Clerky-logo-claro.png" alt="Clerky" class="logo-light h-7 w-auto" />
              <span> • Plataforma de comunicação multicanal</span>
            </div>
            <p data-i18n="footer.copyright">© 2026 • Todos os direitos reservados.</p>
            <p class="text-white/50">
              <span data-i18n="footer.cnpj">CNPJ: 64.494.403/0001-17</span> • <span data-i18n="footer.phone">Tel: +55 62 99355-7070</span>
            </p>
          </div>
          <div class="flex flex-col items-start gap-2 text-xs sm:items-end">
            <div class="flex flex-wrap gap-4">
              <a href="/politica-privacidade" class="hover:text-primary-200" data-i18n="footer.privacy">Política de Privacidade</a>
              <a href="/termos" class="hover:text-primary-200" data-i18n="footer.terms">Termos de Uso</a>
              <a href="/documentacao" class="hover:text-primary-200" data-i18n="footer.docs">Documentação</a>
            </div>
            <div class="flex flex-wrap gap-3 text-white/70">
              <a href="https://facebook.com/clerky.hub" target="_blank" rel="noreferrer" class="hover:text-primary-200">Facebook</a>
              <a href="https://instagram.com/clerky_hub" target="_blank" rel="noreferrer" class="hover:text-primary-200">Instagram</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/smooth-scroll.js"></script>
    <script src="/assets/js/language.js"></script>
  </body>
</html>
